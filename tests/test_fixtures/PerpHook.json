[
    {
        "type": "function",
        "name": "createPerp",
        "inputs": [
            {
                "name": "params",
                "type": "tuple",
                "internalType": "struct Params.CreatePerpParams",
                "components": [
                    {
                        "name": "beacon",
                        "type": "address",
                        "internalType": "address"
                    },
                    {
                        "name": "tradingFee",
                        "type": "uint24",
                        "internalType": "uint24"
                    },
                    {
                        "name": "tradingFeeCreatorSplitX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "minMargin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "maxMargin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "minOpeningLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "maxOpeningLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidationLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidationFeeX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidationFeeSplitX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "fundingInterval",
                        "type": "int128",
                        "internalType": "int128"
                    },
                    {
                        "name": "tickSpacing",
                        "type": "int24",
                        "internalType": "int24"
                    },
                    {
                        "name": "startingSqrtPriceX96",
                        "type": "uint160",
                        "internalType": "uint160"
                    }
                ]
            }
        ],
        "outputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "internalType": "PoolId"
            }
        ],
        "stateMutability": "nonpayable"
    },
    {
        "type": "function",
        "name": "openMakerPosition",
        "inputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "internalType": "PoolId"
            },
            {
                "name": "params",
                "type": "tuple",
                "internalType": "struct Params.OpenMakerPositionParams",
                "components": [
                    {
                        "name": "margin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidity",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "tickLower",
                        "type": "int24",
                        "internalType": "int24"
                    },
                    {
                        "name": "tickUpper",
                        "type": "int24",
                        "internalType": "int24"
                    }
                ]
            }
        ],
        "outputs": [
            {
                "name": "makerPosId",
                "type": "uint256",
                "internalType": "uint256"
            }
        ],
        "stateMutability": "nonpayable"
    },
    {
        "type": "function",
        "name": "calculateMakerNotional",
        "inputs": [
            {
                "name": "sqrtPriceX96",
                "type": "uint160",
                "internalType": "uint160"
            },
            {
                "name": "sqrtPriceLowerX96",
                "type": "uint160",
                "internalType": "uint160"
            },
            {
                "name": "sqrtPriceUpperX96",
                "type": "uint160",
                "internalType": "uint160"
            },
            {
                "name": "liquidity",
                "type": "uint128",
                "internalType": "uint128"
            }
        ],
        "outputs": [
            {
                "name": "notional",
                "type": "uint256",
                "internalType": "uint256"
            }
        ],
        "stateMutability": "pure"
    },
    {
        "type": "function",
        "name": "isPositionLiquidatable",
        "inputs": [
            {
                "name": "bounds",
                "type": "tuple",
                "internalType": "struct Perp.LeverageBounds",
                "components": [
                    {
                        "name": "minOpeningLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "maxOpeningLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidationLeverageX96",
                        "type": "uint256",
                        "internalType": "uint256"
                    }
                ]
            },
            {
                "name": "notional",
                "type": "uint256",
                "internalType": "uint256"
            },
            {
                "name": "effectiveMargin",
                "type": "uint256",
                "internalType": "uint256"
            },
            {
                "name": "liquidationFee",
                "type": "uint256",
                "internalType": "uint256"
            }
        ],
        "outputs": [
            {
                "name": "",
                "type": "bool",
                "internalType": "bool"
            }
        ],
        "stateMutability": "pure"
    },
    {
        "type": "function",
        "name": "sqrtPriceX96ToPriceX96",
        "inputs": [
            {
                "name": "sqrtPriceX96",
                "type": "uint256",
                "internalType": "uint256"
            }
        ],
        "outputs": [
            {
                "name": "",
                "type": "uint256",
                "internalType": "uint256"
            }
        ],
        "stateMutability": "pure"
    },
    {
        "type": "function",
        "name": "validateOpeningLeverage",
        "inputs": [
            {
                "name": "bounds",
                "type": "tuple",
                "internalType": "struct Perp.LeverageBounds",
                "components": [
                    {
                        "name": "minOpeningLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "maxOpeningLeverageX96",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidationLeverageX96",
                        "type": "uint256",
                        "internalType": "uint256"
                    }
                ]
            },
            {
                "name": "leverageX96",
                "type": "uint256",
                "internalType": "uint256"
            }
        ],
        "outputs": [],
        "stateMutability": "pure"
    },
    {
        "type": "function",
        "name": "validateOpeningMargin",
        "inputs": [
            {
                "name": "bounds",
                "type": "tuple",
                "internalType": "struct Perp.MarginBounds",
                "components": [
                    {
                        "name": "minOpeningMargin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "maxOpeningMargin",
                        "type": "uint128",
                        "internalType": "uint128"
                    }
                ]
            },
            {
                "name": "margin",
                "type": "uint128",
                "internalType": "uint128"
            }
        ],
        "outputs": [],
        "stateMutability": "pure"
    },
    {
        "type": "event",
        "name": "MakerPositionClosed",
        "inputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "indexed": false,
                "internalType": "PoolId"
            },
            {
                "name": "makerPosId",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            },
            {
                "name": "wasLiquidated",
                "type": "bool",
                "indexed": false,
                "internalType": "bool"
            },
            {
                "name": "makerPos",
                "type": "tuple",
                "indexed": false,
                "internalType": "struct Positions.MakerInfo",
                "components": [
                    {
                        "name": "holder",
                        "type": "address",
                        "internalType": "address"
                    },
                    {
                        "name": "tickLower",
                        "type": "int24",
                        "internalType": "int24"
                    },
                    {
                        "name": "tickUpper",
                        "type": "int24",
                        "internalType": "int24"
                    },
                    {
                        "name": "sqrtPriceLowerX96",
                        "type": "uint160",
                        "internalType": "uint160"
                    },
                    {
                        "name": "sqrtPriceUpperX96",
                        "type": "uint160",
                        "internalType": "uint160"
                    },
                    {
                        "name": "margin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidity",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "perpsBorrowed",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "usdBorrowed",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "entryTwPremiumX96",
                        "type": "int128",
                        "internalType": "int128"
                    },
                    {
                        "name": "entryTwPremiumDivBySqrtPriceX96",
                        "type": "int128",
                        "internalType": "int128"
                    }
                ]
            },
            {
                "name": "markPriceX96",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            }
        ],
        "anonymous": false
    },
    {
        "type": "event",
        "name": "MakerPositionOpened",
        "inputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "indexed": false,
                "internalType": "PoolId"
            },
            {
                "name": "makerPosId",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            },
            {
                "name": "makerPos",
                "type": "tuple",
                "indexed": false,
                "internalType": "struct Positions.MakerInfo",
                "components": [
                    {
                        "name": "holder",
                        "type": "address",
                        "internalType": "address"
                    },
                    {
                        "name": "tickLower",
                        "type": "int24",
                        "internalType": "int24"
                    },
                    {
                        "name": "tickUpper",
                        "type": "int24",
                        "internalType": "int24"
                    },
                    {
                        "name": "sqrtPriceLowerX96",
                        "type": "uint160",
                        "internalType": "uint160"
                    },
                    {
                        "name": "sqrtPriceUpperX96",
                        "type": "uint160",
                        "internalType": "uint160"
                    },
                    {
                        "name": "margin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "liquidity",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "perpsBorrowed",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "usdBorrowed",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "entryTwPremiumX96",
                        "type": "int128",
                        "internalType": "int128"
                    },
                    {
                        "name": "entryTwPremiumDivBySqrtPriceX96",
                        "type": "int128",
                        "internalType": "int128"
                    }
                ]
            },
            {
                "name": "markPriceX96",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            }
        ],
        "anonymous": false
    },
    {
        "type": "event",
        "name": "PerpCreated",
        "inputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "indexed": false,
                "internalType": "PoolId"
            },
            {
                "name": "beacon",
                "type": "address",
                "indexed": false,
                "internalType": "address"
            },
            {
                "name": "markPriceX96",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            }
        ],
        "anonymous": false
    },
    {
        "type": "event",
        "name": "TakerPositionClosed",
        "inputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "indexed": false,
                "internalType": "PoolId"
            },
            {
                "name": "takerPosId",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            },
            {
                "name": "wasLiquidated",
                "type": "bool",
                "indexed": false,
                "internalType": "bool"
            },
            {
                "name": "takerPos",
                "type": "tuple",
                "indexed": false,
                "internalType": "struct Positions.TakerInfo",
                "components": [
                    {
                        "name": "holder",
                        "type": "address",
                        "internalType": "address"
                    },
                    {
                        "name": "isLong",
                        "type": "bool",
                        "internalType": "bool"
                    },
                    {
                        "name": "size",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "margin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "entryValue",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "entryTwPremiumX96",
                        "type": "int128",
                        "internalType": "int128"
                    }
                ]
            },
            {
                "name": "markPriceX96",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            }
        ],
        "anonymous": false
    },
    {
        "type": "event",
        "name": "TakerPositionOpened",
        "inputs": [
            {
                "name": "perpId",
                "type": "bytes32",
                "indexed": false,
                "internalType": "PoolId"
            },
            {
                "name": "takerPosId",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            },
            {
                "name": "takerPos",
                "type": "tuple",
                "indexed": false,
                "internalType": "struct Positions.TakerInfo",
                "components": [
                    {
                        "name": "holder",
                        "type": "address",
                        "internalType": "address"
                    },
                    {
                        "name": "isLong",
                        "type": "bool",
                        "internalType": "bool"
                    },
                    {
                        "name": "size",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "margin",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "entryValue",
                        "type": "uint128",
                        "internalType": "uint128"
                    },
                    {
                        "name": "entryTwPremiumX96",
                        "type": "int128",
                        "internalType": "int128"
                    }
                ]
            },
            {
                "name": "markPriceX96",
                "type": "uint256",
                "indexed": false,
                "internalType": "uint256"
            }
        ],
        "anonymous": false
    },
    {
        "type": "error",
        "name": "InvalidClose",
        "inputs": [
            {
                "name": "caller",
                "type": "address",
                "internalType": "address"
            },
            {
                "name": "holder",
                "type": "address",
                "internalType": "address"
            },
            {
                "name": "isLiquidated",
                "type": "bool",
                "internalType": "bool"
            }
        ]
    },
    {
        "type": "error",
        "name": "InvalidLiquidity",
        "inputs": [
            {
                "name": "liquidity",
                "type": "uint128",
                "internalType": "uint128"
            }
        ]
    },
    {
        "type": "error",
        "name": "LivePositionDetails",
        "inputs": [
            {
                "name": "pnl",
                "type": "int256",
                "internalType": "int256"
            },
            {
                "name": "funding",
                "type": "int256",
                "internalType": "int256"
            },
            {
                "name": "effectiveMargin",
                "type": "int256",
                "internalType": "int256"
            },
            {
                "name": "isLiquidatable",
                "type": "bool",
                "internalType": "bool"
            }
        ]
    },
    {
        "type": "error",
        "name": "OpeningLeverageOutOfBounds",
        "inputs": [
            {
                "name": "leverageX96",
                "type": "uint256",
                "internalType": "uint256"
            },
            {
                "name": "minLeverageX96",
                "type": "uint128",
                "internalType": "uint128"
            },
            {
                "name": "maxLeverageX96",
                "type": "uint128",
                "internalType": "uint128"
            }
        ]
    },
    {
        "type": "error",
        "name": "OpeningMarginOutOfBounds",
        "inputs": [
            {
                "name": "margin",
                "type": "uint128",
                "internalType": "uint128"
            },
            {
                "name": "minMargin",
                "type": "uint128",
                "internalType": "uint128"
            },
            {
                "name": "maxMargin",
                "type": "uint128",
                "internalType": "uint128"
            }
        ]
    },
    {
        "type": "error",
        "name": "SafeCastOverflowedUintToInt",
        "inputs": [
            {
                "name": "value",
                "type": "uint256",
                "internalType": "uint256"
            }
        ]
    }
]